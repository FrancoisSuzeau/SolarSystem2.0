/*
AUTHOR : SUZEAU Fran√ßois

DATE : 26/05/2021

MODULE : KeyInput

NAMEFILE : KeyInput.h

PURPOSE :   - allow the program wich key is used
            - 
*/

#include "InputDevices.hpp"
using namespace Engine::InputDevices;


/***********************************************************************************************************************************************************************/
/*********************************************************************** Constructor and Destructor ********************************************************************/
/***********************************************************************************************************************************************************************/
KeyInput::KeyInput(SDL_Event *event) : m_event(event)
{
    //initialize key array
    for (int i(0); i < SDL_NUM_SCANCODES; i++)
    {
        m_keys[i] = false;
    }
    
}

KeyInput::~KeyInput()
{
    
}

/***********************************************************************************************************************************************************************/
/************************************************************************************ UpdateEvents *********************************************************************/
/***********************************************************************************************************************************************************************/
void KeyInput::updateEvents()
{
    
    while(SDL_PollEvent(m_event))
    {
        
        switch (m_event->type)
        {
            //activate a key
            case SDL_KEYDOWN:
                m_keys[m_event->key.keysym.scancode] = true;
                break;
            case SDL_KEYUP:
                m_keys[m_event->key.keysym.scancode] = false;
                break;
            default:
                break;
        }
    }

}

///***********************************************************************************************************************************************************************/
///***************************************************************************************** getKey **********************************************************************/
///***********************************************************************************************************************************************************************/
bool KeyInput::getKey(const SDL_Scancode key) const
{
    return m_keys[key];
}